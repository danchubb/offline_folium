/**
 * Minified by jsDelivr using Terser v5.19.2.
 * Original file: /npm/leaflet-polylineoffset@1.1.1/leaflet.polylineoffset.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
!function(t,n){"function"==typeof define&&define.amd?define(["leaflet"],t):"object"==typeof exports&&(module.exports=t(require("leaflet"))),void 0!==n&&n.L&&(n.L.PolylineOffset=t(L))}((function(t){function n(t,n){if(t&&!(t.length<1))for(var e=1,f=t.length;e<f;e++)n(t[e-1],t[e])}function e(t,n){if(t.x===n.x)return t.y===n.y?null:{x:t.x};var e=(n.y-t.y)/(n.x-t.x);return{a:e,b:t.y-e*t.x}}function f(t,n,f,i){var o=e(t,n),r=e(f,i);if(null===o||null===r)return null;if(o.hasOwnProperty("x"))return r.hasOwnProperty("x")?null:{x:o.x,y:r.a*o.x+r.b};if(r.hasOwnProperty("x"))return{x:r.x,y:o.a*r.x+o.b};if(o.a===r.a)return null;var s=(r.b-o.b)/(o.a-r.a);return{x:s,y:o.a*s+o.b}}function i(t,n,e){return{x:t.x+n*Math.cos(e),y:t.y+n*Math.sin(e)}}var o={offsetPointLine:function(e,f){var o=[];return n(e,t.bind((function(t,n){if(t.x!==n.x||t.y!==n.y){var e=Math.atan2(t.y-n.y,t.x-n.x)-Math.PI/2;o.push({offsetAngle:e,original:[t,n],offset:[i(t,f,e),i(n,f,e)]})}}),this)),o},offsetPoints:function(t,n){var e=this.offsetPointLine(t,n);return this.joinLineSegments(e,n)},joinSegments:function(t,n,e){return this.circularArc(t,n,e).filter((function(t){return t}))},joinLineSegments:function(e,f){var i=[],o=e[0],r=e[e.length-1];return o&&r&&(i.push(o.offset[0]),n(e,t.bind((function(t,n){i=i.concat(this.joinSegments(t,n,f))}),this)),i.push(r.offset[1])),i},segmentAsVector:function(t){return{x:t[1].x-t[0].x,y:t[1].y-t[0].y}},getSignedAngle:function(t,n){const e=this.segmentAsVector(t),f=this.segmentAsVector(n);return Math.atan2(e.x*f.y-e.y*f.x,e.x*f.x+e.y*f.y)},circularArc:function(t,n,e){if(t.offsetAngle===n.offsetAngle)return[t.offset[1]];const o=this.getSignedAngle(t.offset,n.offset);if(o*e>0&&o*this.getSignedAngle(t.offset,[t.offset[0],n.offset[1]])>0)return[f(t.offset[0],t.offset[1],n.offset[0],n.offset[1])];var r=[],s=t.original[1],u=e>0,a=u?n.offsetAngle:t.offsetAngle,l=u?t.offsetAngle:n.offsetAngle;l<a&&(l+=2*Math.PI);for(var c=Math.PI/8,h=a;h<l;h+=c)r.push(i(s,e,h));return r.push(i(s,e,l)),u?r.reverse():r}};return t.Polyline.include({_projectLatlngs:function(n,e,f){if(n.length>0&&n[0]instanceof t.LatLng){var i=n.map(t.bind((function(t){var n=this._map.latLngToLayerPoint(t);return f&&f.extend(n),n}),this));this.options.offset&&(i=t.PolylineOffset.offsetPoints(i,this.options.offset)),e.push(i.map((function(n){return t.point(n.x,n.y)})))}else n.forEach(t.bind((function(t){this._projectLatlngs(t,e,f)}),this))}}),t.Polyline.include({setOffset:function(t){return this.options.offset=t,this.redraw(),this}}),o}),window);
//# sourceMappingURL=/sm/995b821da5990cc9639cf31977c178e9b42cf0629231e7532c3be5d4a71e4a82.map
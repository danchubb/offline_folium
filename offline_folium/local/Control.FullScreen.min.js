/**
 * Minified by jsDelivr using Terser v5.19.2.
 * Original file: /npm/leaflet.fullscreen@3.0.0/Control.FullScreen.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
/*!_map
* leaflet.fullscreen
* (c) Bruno B.; MIT License
* Uses fragments from the package 'screenfull'
*/
!function(e,n){"function"==typeof define&&define.amd?define("leafletFullScreen",["leaflet"],n):"object"==typeof module&&module.exports?module.exports=n(require("leaflet")):n(e.L)}("undefined"!=typeof self?self:this,(function(e){"use strict";if("undefined"==typeof document)return console.warn('"window.document" is undefined; leaflet.fullscreen requires this object to access the DOM'),!1;const n=(()=>{const e=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"]],n=e[0],t={};for(const l of e)if(l[1]in document){for(let e=0;e<l.length;e++)t[n[e]]=l[e];return t}return!1})(),t={change:n.fullscreenchange,error:n.fullscreenerror},l={request:function(e,t){return new Promise(function(l,i){const s=function(){this.off("change",s),l()}.bind(this);this.on("change",s);const o=(e=e||document.documentElement)[n.requestFullscreen](t);o instanceof Promise&&o.then(s).catch(i)}.bind(this))},exit:function(){return new Promise(function(e,t){if(!this.isFullscreen)return void e();const l=function(){this.off("change",l),e()}.bind(this);this.on("change",l);const i=document[n.exitFullscreen]();i instanceof Promise&&i.then(l).catch(t)}.bind(this))},on:function(e,n){var l=t[e];l&&document.addEventListener(l,n,!1)},off:function(e,n){var l=t[e];l&&document.removeEventListener(l,n,!1)},nativeAPI:n};return Object.defineProperties(l,{isFullscreen:{get:function(){return Boolean(document[n.fullscreenElement])}},isEnabled:{enumerable:!0,get:function(){return Boolean(document[n.fullscreenEnabled])}}}),e.Control.FullScreen=e.Control.extend({options:{position:"topleft",title:"Full Screen",titleCancel:"Exit Full Screen",forceSeparateButton:!1,forcePseudoFullscreen:!1,fullscreenElement:!1},_screenfull:l,onAdd:function(n){var t,l="leaflet-control-zoom-fullscreen",i="";return t=n.zoomControl&&!this.options.forceSeparateButton?n.zoomControl._container:e.DomUtil.create("div","leaflet-bar"),this.options.content?i=this.options.content:l+=" fullscreen-icon",this._createButton(this.options.title,l,i,t,this.toggleFullScreen,this),this._map.fullscreenControl=this,this._map.on("enterFullscreen exitFullscreen",this._toggleState,this),t},onRemove:function(){e.DomEvent.off(this.link,"click",e.DomEvent.stop).off(this.link,"click",this.toggleFullScreen,this),this._screenfull.isEnabled&&(e.DomEvent.off(this._container,this._screenfull.nativeAPI.fullscreenchange,e.DomEvent.stop).off(this._container,this._screenfull.nativeAPI.fullscreenchange,this._handleFullscreenChange,this),e.DomEvent.off(document,this._screenfull.nativeAPI.fullscreenchange,e.DomEvent.stop).off(document,this._screenfull.nativeAPI.fullscreenchange,this._handleFullscreenChange,this))},_createButton:function(n,t,l,i,s,o){return this.link=e.DomUtil.create("a",t,i),this.link.href="#",this.link.title=n,this.link.innerHTML=l,this.link.setAttribute("role","button"),this.link.setAttribute("aria-label",n),L.DomEvent.disableClickPropagation(i),e.DomEvent.on(this.link,"click",e.DomEvent.stop).on(this.link,"click",s,o),this._screenfull.isEnabled&&(e.DomEvent.on(i,this._screenfull.nativeAPI.fullscreenchange,e.DomEvent.stop).on(i,this._screenfull.nativeAPI.fullscreenchange,this._handleFullscreenChange,o),e.DomEvent.on(document,this._screenfull.nativeAPI.fullscreenchange,e.DomEvent.stop).on(document,this._screenfull.nativeAPI.fullscreenchange,this._handleFullscreenChange,o)),this.link},toggleFullScreen:function(){var n=this._map;n._exitFired=!1,n._isFullscreen?(this._screenfull.isEnabled&&!this.options.forcePseudoFullscreen?this._screenfull.exit():(e.DomUtil.removeClass(this.options.fullscreenElement?this.options.fullscreenElement:n._container,"leaflet-pseudo-fullscreen"),n.invalidateSize()),n.fire("exitFullscreen"),n._exitFired=!0,n._isFullscreen=!1):(this._screenfull.isEnabled&&!this.options.forcePseudoFullscreen?this._screenfull.request(this.options.fullscreenElement?this.options.fullscreenElement:n._container):(e.DomUtil.addClass(this.options.fullscreenElement?this.options.fullscreenElement:n._container,"leaflet-pseudo-fullscreen"),n.invalidateSize()),n.fire("enterFullscreen"),n._isFullscreen=!0)},_toggleState:function(){this.link.title=this._map._isFullscreen?this.options.title:this.options.titleCancel,this._map._isFullscreen?L.DomUtil.removeClass(this.link,"leaflet-fullscreen-on"):L.DomUtil.addClass(this.link,"leaflet-fullscreen-on")},_handleFullscreenChange:function(){var e=this._map;e.invalidateSize(),this._screenfull.isFullscreen||e._exitFired||(e.fire("exitFullscreen"),e._exitFired=!0,e._isFullscreen=!1)}}),e.Map.include({toggleFullscreen:function(){this.fullscreenControl.toggleFullScreen()}}),e.Map.addInitHook((function(){this.options.fullscreenControl&&this.addControl(e.control.fullscreen(this.options.fullscreenControlOptions))})),e.control.fullscreen=function(n){return new e.Control.FullScreen(n)},{leaflet:e}}));
//# sourceMappingURL=/sm/80355ac09fa08c3738ce739f9d23b487c8ade63474a6de61b6417092a0906ac4.map
/**
 * Minified by jsDelivr using Terser v5.19.2.
 * Original file: /npm/leaflet.control.layers.tree@1.1.0/L.Control.Layers.Tree.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
!function(e){if(void 0===e)throw new Error("Leaflet must be included first");e.Control.Layers.Tree=e.Control.Layers.extend({options:{closedSymbol:"+",openedSymbol:"&minus;",spaceSymbol:" ",selectorBack:!1,namedToggle:!1,collapseAll:"",expandAll:"",labelIsSelector:"both"},_initClassesNames:function(){this.cls={children:"leaflet-layerstree-children",childrenNopad:"leaflet-layerstree-children-nopad",hide:"leaflet-layerstree-hide",closed:"leaflet-layerstree-closed",opened:"leaflet-layerstree-opened",space:"leaflet-layerstree-header-space",pointer:"leaflet-layerstree-header-pointer",header:"leaflet-layerstree-header",neverShow:"leaflet-layerstree-nevershow",node:"leaflet-layerstree-node",name:"leaflet-layerstree-header-name",label:"leaflet-layerstree-header-label",selAllCheckbox:"leaflet-layerstree-sel-all-checkbox"}},initialize:function(t,l,s){this._scrollTop=0,this._initClassesNames(),this._baseTree=null,this._overlaysTree=null,e.Util.setOptions(this,s),e.Control.Layers.prototype.initialize.call(this,null,null,s),this._setTrees(t,l)},setBaseTree:function(e){return this._setTrees(e)},setOverlayTree:function(e){return this._setTrees(void 0,e)},addBaseLayer:function(e,t){throw"addBaseLayer is disabled"},addOverlay:function(e,t){throw"addOverlay is disabled"},removeLayer:function(e){throw"removeLayer is disabled"},collapse:function(){return this._scrollTop=this._sect().scrollTop,e.Control.Layers.prototype.collapse.call(this)},expand:function(){e.Control.Layers.prototype.expand.call(this);this._sect().scrollTop=this._scrollTop},onAdd:function(t){function l(e){e._layersTreeName&&(a.innerHTML=e._layersTreeName)}var s=e.Control.Layers.prototype.onAdd.call(this,t);if(this.options.namedToggle){var a=this._container.getElementsByClassName("leaflet-control-layers-toggle")[0];e.DomUtil.addClass(a,"leaflet-layerstree-named-toggle"),t.eachLayer((function(e){l(e)})),t.on("baselayerchange",(function(e){l(e.layer)}),this)}return s},expandTree:function(e){var t=e?this._overlaysList:this._baseLayersList;return t&&this._applyOnTree(t,!1),this._localExpand()},collapseTree:function(e){var t=e?this._overlaysList:this._baseLayersList;return t&&this._applyOnTree(t,!0),this._localExpand()},expandSelected:function(t){function l(t){var a=t.parentElement;if(a){if(e.DomUtil.hasClass(a,s.cls.children)&&!e.DomUtil.hasClass(t,s.cls.childrenNopad)&&e.DomUtil.removeClass(a,i),e.DomUtil.hasClass(a,s.cls.node)){var r=a.getElementsByClassName(s.cls.header)[0];s._applyOnTree(r,!1)}l(a)}}var s=this,a=t?this._overlaysList:this._baseLayersList;if(!a)return this;for(var i=this.cls.hide,r=this._layerControlInputs||a.getElementsByTagName("input"),n=0;n<r.length;n++){var o=r[n];this._getLayer&&!!this._getLayer(o.layerId).overlay!=!!t||o.checked&&l(o.parentElement.parentElement.parentElement.parentElement)}return this._localExpand()},_sect:function(){return this._section||this._form},_setTrees:function(e,t){var l=0;function s(e,t,a){return e&&e.layer&&(a||(e.layer._layersTreeName=e.name||e.label),t[l++]=e.layer),e&&e.children&&e.children.length&&e.children.forEach((function(e){s(e,t,a)})),t}function a(e){return Array.isArray(e)?{noShow:!0,children:e}:e}this._layerControlInputs&&(this._layerControlInputs=[]);for(var i=0;i<this._layers.length;++i)this._layers[i].layer.off("add remove",this._onLayerChange,this);this._layers=[],void 0!==e&&(this._baseTree=a(e)),void 0!==t&&(this._overlaysTree=a(t));var r=s(this._baseTree,{});for(var i in r)this._addLayer(r[i],i);var n=s(this._overlaysTree,{},!0);for(i in n)this._addLayer(n[i],i,!0);return this._map?this._update():this},_localExpand:function(){if(this._map&&e.DomUtil.hasClass(this._container,"leaflet-control-layers-expanded")){var t=this._sect().scrollTop;this.expand(),this._sect().scrollTop=t,this._scrollTop=t}return this},_applyOnTree:function(t,l){[{cls:this.cls.children,hide:l},{cls:this.cls.opened,hide:l},{cls:this.cls.closed,hide:!l}].forEach((function(l){for(var s=t.getElementsByClassName(l.cls),a=0;a<s.length;a++){var i=s[a];e.DomUtil.hasClass(i,this.cls.childrenNopad)||(l.hide?e.DomUtil.addClass(i,this.cls.hide):e.DomUtil.removeClass(i,this.cls.hide))}}),this)},_addItem:function(e){},_update:function(){return this._container?(e.Control.Layers.prototype._update.call(this),this._addTreeLayout(this._baseTree,!1),this._addTreeLayout(this._overlaysTree,!0),this._localExpand()):this},_addTreeLayout:function(e,t){if(e){var l=t?this._overlaysList:this._baseLayersList;this._expandCollapseAll(t,this.options.collapseAll,this.collapseTree),this._expandCollapseAll(t,this.options.expandAll,this.expandTree),this._iterateTreeLayout(e,l,t,[],e.noShow),this._checkDisabledLayers&&this._checkDisabledLayers()}},_expandCollapseAll:function(t,l,s,a){var i=t?this._overlaysList:this._baseLayersList;if(a=a||this,l){var r=document.createElement("div");r.className="leaflet-layerstree-expand-collapse",i.appendChild(r),r.innerHTML=l,r.tabIndex=0,e.DomEvent.on(r,"click keydown",(function(e){"keydown"===e.type&&32!==e.keyCode||(r.blur(),s.call(a,t),this._localExpand())}),this)}},_iterateTreeLayout:function(t,l,s,a,i){if(t){var r,n=E("div",this.cls.header,l),o=E("span"),c=E("span"),h=E("span",this.cls.closed,o,this.options.closedSymbol),d=E("span",this.cls.opened,o,this.options.openedSymbol),p=E("span",this.cls.space,null,this.options.spaceSymbol);this.options.selectorBack?(o.insertBefore(p,h),n.appendChild(c),n.appendChild(o)):(o.appendChild(p),n.appendChild(o),n.appendChild(c)),t.selectAllCheckbox&&((r=this._createCheckboxElement(!1)).className+=" "+this.cls.selAllCheckbox);var y=this.cls.hide;if(t.children){var u=E("div",this.cls.children,l),f=t.layer?o:n;e.DomUtil.addClass(f,this.cls.pointer),f.tabIndex=0,e.DomEvent.on(f,"click keydown",(function(t){"keydown"===t.type&&32!==t.keyCode||(f.blur(),e.DomUtil.hasClass(d,y)?(e.DomUtil.addClass(h,y),e.DomUtil.removeClass(d,y),e.DomUtil.removeClass(u,y)):(e.DomUtil.removeClass(h,y),e.DomUtil.addClass(d,y),e.DomUtil.addClass(u,y)),this._localExpand())}),this),r&&a.splice(0,0,l),t.children.forEach((function(e){var t=E("div",this.cls.node,u);this._iterateTreeLayout(e,t,s,a)}),this),r&&a.splice(0,1)}else e.DomUtil.addClass(o,this.cls.neverShow);var m,_=E(t.layer&&("both"===this.options.labelIsSelector||s&&"overlay"===this.options.labelIsSelector||!s&&"base"===this.options.labelIsSelector)?"label":"span",this.cls.label,c);if(t.layer){var v,C=this._map.hasLayer(t.layer),b=s?t.radioGroup:"leaflet-base-layers_"+e.Util.stamp(this);b?v=this._createRadioElement(b,C):g(v=this._createCheckboxElement(C),this),this._layerControlInputs&&this._layerControlInputs.push(v),v.layerId=e.Util.stamp(t.layer),e.DomEvent.on(v,"click",this._onInputClick,this),_.appendChild(v)}t.selectAllCheckbox&&(_.appendChild(r),("string"==typeof(m=t.selectAllCheckbox)||m instanceof String)&&(r.title=t.selectAllCheckbox),e.DomEvent.on(r,"click",(function(e){e.stopPropagation(),U(r.checked,this)}),this),D(l),g(r,this));E("span",this.cls.name,_,t.label);e.DomUtil.addClass(t.collapsed?d:h,y),t.collapsed&&u&&e.DomUtil.addClass(u,y),i&&(e.DomUtil.addClass(n,this.cls.neverShow),e.DomUtil.addClass(u,this.cls.childrenNopad));var T=t.eventedClasses;T instanceof Array||(T=[T]);for(var L=0;L<T.length;L++){var k=T[L];if(k&&k.className){var x=l.querySelector("."+k.className);x&&e.DomEvent.on(x,k.event||"click",function(e){return function(s){s.stopPropagation();var a,i=(a=e)&&"[object Function]"==={}.toString.call(a)?e(s,l,t,this._map):e;null!=i&&U(i,this)}}(k.selectAll),this)}}}function E(t,l,s,a){var i=e.DomUtil.create(t,l,s);return a&&(i.innerHTML=a),i}function D(e){var t=e.querySelector("input[type=checkbox]"),l=!0,s=!0,a=e.querySelectorAll("input[type=checkbox]");[].forEach.call(a,(function(e){e===t||(e.indeterminate?(l=!1,s=!1):e.checked?s=!1:e.checked||(l=!1))})),l?(t.indeterminate=!1,t.checked=!0):s?(t.indeterminate=!1,t.checked=!1):(t.indeterminate=!0,t.checked=!1)}function g(t,l){a.forEach((function(s){e.DomEvent.on(t,"click",(function(e){D(s)}),l)}),l)}function U(e,t){for(var s=l.getElementsByTagName("input"),a=0;a<s.length;a++){var i=s[a];"checkbox"===i.type&&(i.checked=e,i.indeterminate=!1)}t._onInputClick()}},_createCheckboxElement:function(e){var t=document.createElement("input");return t.type="checkbox",t.className="leaflet-control-layers-selector",t.defaultChecked=e,t}}),e.control.layers.tree=function(t,l,s){return new e.Control.Layers.Tree(t,l,s)}}(L);
//# sourceMappingURL=/sm/b989ab0161e6a54ce010cb1d702ee46946e488c803d8131873830cbe2b0ad18d.map